# Story 5.2: Refinement - Hotkey Polling Optimization

## Status
Completed

## Story
**As a** developer,
**I want** to optimize the hotkey detection mechanism,
**so that** the application consumes fewer CPU resources and is more energy-efficient.

## Acceptance Criteria
1. The hotkey detection no longer relies on a fixed-interval polling mechanism within `app.rs`.
2. The application utilizes an event-driven mechanism for hotkey detection, if supported by the underlying `global-hotkey` crate and `iced` framework.
3. The responsiveness of the hotkey toggle remains consistent or improves.
4. CPU usage related to hotkey detection is measurably reduced (if metrics are available).

## Tasks / Subtasks
- [x] Research `global-hotkey` crate for event-driven mechanisms or asynchronous receivers. (Switched to `rdev`)
- [x] Research `iced::Subscription` capabilities for handling external, non-polling events.
- [x] Implement an event-driven hotkey subscription in `app.rs`.
- [x] Remove the `iced::time::every` subscription and `Message::Tick` handling.
- [x] Verify hotkey functionality remains correct.

## Dev Notes
- **COMPLETED via Story 5.1**: The consolidation of input libraries to `rdev` required implementing an event-driven listener in a separate thread to replace the polling mechanism.
- The `iced::time::every` loop was removed in `app.rs`.
- `hotkeys.rs` now yields events only when they occur.

## Testing
- Manually test hotkey toggle functionality.
- (If possible) Monitor CPU usage of the application before and after optimization.

## Change Log
| Date       | Version | Description                               | Author |
| :--------- | :------ | :---------------------------------------- | :----- |
| 2025-11-27 | 1.1     | Marked as complete (done in 5.1)          | James  |
| 2025-11-27 | 1.0     | Initial Draft                             | John   |
