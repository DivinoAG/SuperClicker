# Story 4.3: Control Grouping & Dynamic Disabling

## Status
Not Done

## Story
**As a** user,
**I want** related controls to be visually grouped and non-essential settings to be disabled while the clicker is running,
**so that** the UI is organized and I'm prevented from making accidental changes during operation.

## Acceptance Criteria
1. Primary controls (Interval Input, Mouse Button Selector) are visually grouped together.
2. Hotkey configuration elements are visually grouped separately.
3. When the auto-clicker is "RUNNING", all interactive UI elements *except* the Stop button and the current interval display (which is updated by hotkey) are disabled and appear greyed out.
4. When the auto-clicker is "STOPPED", all interactive UI elements are enabled.

## Tasks / Subtasks
- [ ] Implement visual grouping for primary controls in `ui.rs`.
- [ ] Implement visual grouping for hotkey configuration in `ui.rs`. (Note: Hotkey customization UI is a separate story, this refers to the *grouping container* itself).
- [ ] Update `app.rs` state to track if the auto-clicker is running.
- [ ] Apply `iced`'s `Element::map` or similar to dynamically enable/disable UI elements based on the auto-clicker's state.
- [ ] Ensure disabled elements are visually distinct (e.g., greyed out).
- [ ] **Refinement:** Replace disabled `TextInput` for Interval with a legible `Text` widget when running to improve readability.
- [ ] **Refinement:** Apply the card-like background style to the Configuration container.
- [ ] **Fix/Rebuild:** Rebuild button styling from scratch to ensure labels are visible and correctly styled in all states (active/disabled), including proper padding and pill shape. Prioritize using styled components with tokens/variables.
- [ ] **Fix:** Restore conditional rendering of Interval and Mouse Button inputs to display as read-only containers (text, not inputs) when the clicker is active.

## Dev Notes
- Refer to `docs/front-end-spec.md` for visual grouping and disabling behavior.
- **Feedback Implementation:** The disabled state of `TextInput` was obscure; switching to a read-only `Text` display when running (this feature regressed, needs restoration).
- **Feedback Implementation:** The Configuration group now uses a card-like background for visual distinction.
- **Critical Regression:** Button labels failed to render in the last iteration. This indicates a fundamental misunderstanding of button content vs. style. Rebuilding button styles from the ground up, verifying label visibility at each step.
- **Regression:** Conditional rendering of inputs (text vs interactive) also regressed; needs restoration.
- All colors for disabled states (buttons, checkbox, dropdown) to be explicitly checked against contrast compliance.
